{
  if (Invocation.isToString(invocation)) {
    Object mock=invocation.getMock();
    MockName name=MockUtil.getMockName(mock);
    if (name.isSurrogate()) {
      return "Mock for " + ClassNameFinder.classNameForMock(mock) + ", hashCode: "+ mock.hashCode();
    }
 else {
      return name.toString();
    }
  }
  Class<?> returnType=invocation.getMethod().getReturnType();
  return returnValueFor(returnType);
}
