{
  List<StackTraceElement> fullTrace=Arrays.asList(hasStackTrace.getStackTrace());
  List<StackTraceElement> cleanedPart=fullTrace;
  final int totalCount=fullTrace.size();
  for (int i=0; i < totalCount; i++) {
    List<StackTraceElement> subList=fullTrace.subList(i,totalCount);
    int lastStartingIndexOfSubList=Collections.lastIndexOfSubList(causeStackTrace,subList);
    if (lastStartingIndexOfSubList == -1) {
      continue;
    }
    int lastEndingIndexOfSubList=lastStartingIndexOfSubList + subList.size() - 1;
    if (lastEndingIndexOfSubList == causeStackTrace.size() - 1) {
      cleanedPart=fullTrace.subList(0,i);
      break;
    }
  }
  hasStackTrace.setStackTrace(cleanedPart.toArray(new StackTraceElement[cleanedPart.size()]));
}
