{
  FilteredCGLIBProxyRealMethod realMethod=new FilteredCGLIBProxyRealMethod(new RealMethod(){
    public Object invoke(    Object target,    Object[] arguments) throws Throwable {
      return new Foo().throwSomething();
    }
  }
);
  try {
    realMethod.invoke(null,null);
    fail();
  }
 catch (  Exception e) {
    assertThat(e,hasMethodInStackTraceAt(0,"throwSomething"));
    assertThat(e,hasMethodInStackTraceAt(1,"invoke"));
    assertThat(e,hasMethodInStackTraceAt(2,"shouldRemoveMockitoInternalsFromStackTraceWhenRealMethodThrows"));
  }
}
