{
  List<Invocation> actualInvocations=findInvocations(invocations,wanted);
  if (actualInvocations.isEmpty()) {
    Invocation similar=findSimilarInvocation(invocations,wanted);
    if (similar != null) {
      ArgumentMatchingTool argumentMatchingTool=new ArgumentMatchingTool();
      Integer[] indexesOfSuspiciousArgs=argumentMatchingTool.getSuspiciouslyNotMatchingArgsIndexes(wanted.getMatchers(),similar.getArguments());
      SmartPrinter smartPrinter=new SmartPrinter(wanted,similar,indexesOfSuspiciousArgs);
      throw argumentsAreDifferent(smartPrinter.getWanted(),smartPrinter.getActual(),similar.getLocation());
    }
    throw wantedButNotInvoked(wanted,invocations);
  }
}
