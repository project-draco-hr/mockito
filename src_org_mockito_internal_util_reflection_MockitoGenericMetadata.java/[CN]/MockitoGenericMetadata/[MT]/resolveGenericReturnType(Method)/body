{
  Type genericReturnType=method.getGenericReturnType();
  logger.log("Method '" + method.toGenericString() + "' has return type : "+ genericReturnType.getClass().getInterfaces()[0].getSimpleName()+ " : "+ genericReturnType);
  if (genericReturnType instanceof Class) {
    return new NotGenericReturnType(genericReturnType);
  }
  if (genericReturnType instanceof ParameterizedType) {
    return new ParameterizedReturnType(this,method.getTypeParameters(),(ParameterizedType)method.getGenericReturnType());
  }
  if (genericReturnType instanceof TypeVariable) {
    return new TypeVariableReturnType(this,method.getTypeParameters(),(TypeVariable)genericReturnType);
  }
  if (genericReturnType instanceof BoundedType) {
    return new TypeVariableReturnType(this,method.getTypeParameters(),((BoundedType)genericReturnType).typeVariable());
  }
  throw new IllegalStateException("ouch");
}
