{
  Type genericReturnType=method.getGenericReturnType();
  if (genericReturnType instanceof ParameterizedType) {
    ParameterizedType parameterizedType=(ParameterizedType)genericReturnType;
    if (parameterizedType.getActualTypeArguments().length > 0) {
      Type type=parameterizedType.getActualTypeArguments()[0];
      if (type instanceof Class) {
        return (Class)type;
      }
      if (type instanceof TypeVariable) {
        return identifyReturnTypeFromClass((TypeVariable)type,onClass);
      }
    }
  }
  return null;
}
