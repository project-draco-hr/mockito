{
  int tempPosition=position;
  String errorMessage="";
  while (position < behaviorLists.size()) {
    Result result=behaviorLists.get(position).addActual(actual);
    if (result != null) {
      return result;
    }
    errorMessage+=behaviorLists.get(position).toString(actual);
    if (!behaviorLists.get(position).verify()) {
      break;
    }
    position++;
  }
  Result stubOrNice=getStubResult(actual);
  if (stubOrNice == null && nice) {
    stubOrNice=Result.createReturnResult(ToTypeMappings.emptyReturnValueFor(actual.getMethod().getReturnType()));
  }
  if (stubOrNice != null) {
    position=tempPosition;
    return stubOrNice;
  }
  throw new AssertionErrorWrapper(new AssertionError("\n  Unexpected method call " + actual.toString(MockControl.EQUALS_MATCHER) + ":"+ errorMessage.toString()));
}
