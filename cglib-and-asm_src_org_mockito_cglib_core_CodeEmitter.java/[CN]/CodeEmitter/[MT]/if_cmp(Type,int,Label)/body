{
  int intOp=-1;
  int jumpmode=mode;
switch (mode) {
case GE:
    jumpmode=LT;
  break;
case LE:
jumpmode=GT;
break;
}
switch (type.getSort()) {
case Type.LONG:
mv.visitInsn(Constants.LCMP);
break;
case Type.DOUBLE:
mv.visitInsn(Constants.DCMPG);
break;
case Type.FLOAT:
mv.visitInsn(Constants.FCMPG);
break;
case Type.ARRAY:
case Type.OBJECT:
switch (mode) {
case EQ:
mv.visitJumpInsn(Constants.IF_ACMPEQ,label);
return;
case NE:
mv.visitJumpInsn(Constants.IF_ACMPNE,label);
return;
}
throw new IllegalArgumentException("Bad comparison for type " + type);
default :
switch (mode) {
case EQ:
intOp=Constants.IF_ICMPEQ;
break;
case NE:
intOp=Constants.IF_ICMPNE;
break;
case GE:
swap();
case LT:
intOp=Constants.IF_ICMPLT;
break;
case LE:
swap();
case GT:
intOp=Constants.IF_ICMPGT;
break;
}
mv.visitJumpInsn(intOp,label);
return;
}
if_jump(jumpmode,label);
}
