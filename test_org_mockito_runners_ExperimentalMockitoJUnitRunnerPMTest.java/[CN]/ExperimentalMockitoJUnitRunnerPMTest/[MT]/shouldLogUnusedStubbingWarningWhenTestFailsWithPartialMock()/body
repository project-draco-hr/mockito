{
  runner=spy(runner);
  doAnswer(new Answer<Object>(){
    public Object answer(    InvocationOnMock invocation){
      RunNotifier notifier=(RunNotifier)invocation.getArguments()[0];
      unusedStubbingThatQualifiesForWarning();
      notifier.fireTestFailure(null);
      String loggedInfo=loggerStub.getLoggedInfo();
      assertThat(loggedInfo,contains("[Mockito] Warning - this stub was not used"));
      assertThat(loggedInfo,contains("mock.simpleMethod(123);"));
      assertThat(loggedInfo,contains(".unusedStubbingThatQualifiesForWarning("));
      return null;
    }
  }
).when(runner).runTestBody(notifier);
  runner.run(notifier);
}
