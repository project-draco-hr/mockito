{
  if (callbacks.size() == 0)   return new Callback[0];
  if (callbacks.get(0) instanceof Callback) {
    return (Callback[])callbacks.toArray(new Callback[callbacks.size()]);
  }
 else {
    throw new IllegalStateException("getCallback returned classes, not callbacks; call getCallbackTypes instead");
  }
}
