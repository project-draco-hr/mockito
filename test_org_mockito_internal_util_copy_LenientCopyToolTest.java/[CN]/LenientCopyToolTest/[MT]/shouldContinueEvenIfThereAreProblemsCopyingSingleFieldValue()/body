{
  final Queue<Boolean> sequence=new LinkedList<Boolean>(Arrays.asList(true,true,false,true));
  tool.fieldCopier=new FieldCopier(){
    public <T>void copyValue(    T from,    T to,    Field field) throws IllegalAccessException {
      if (!sequence.isEmpty() && !sequence.poll()) {
        throw new IllegalAccessException();
      }
    }
  }
;
  tool.copyToMock(from,to);
  assertTrue(sequence.isEmpty());
}
