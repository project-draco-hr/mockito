{
  if (!mode.orderOfInvocationsMatters()) {
    return;
  }
  List<InvocationChunk> chunks=getUnverifiedInvocationChunks(mode);
  if (mode.expectedCountIsZero() && !chunks.isEmpty() && expected.matches(chunks.get(0).getInvocation())) {
    throw new NumberOfInvocationsAssertionError(0,chunks.get(0).getCount(),expected);
  }
 else   if (mode.expectedCountIsZero()) {
    return;
  }
  if (chunks.isEmpty()) {
    throw new StrictVerificationError("everything was already verified");
  }
  if (!expected.matches(chunks.get(0).getInvocation())) {
    throw new StrictVerificationError("this is not expected here");
  }
  if (!mode.atLeastOnceMode() && chunks.get(0).getCount() != mode.expectedCount()) {
    throw new NumberOfInvocationsAssertionError(mode.expectedCount(),chunks.get(0).getCount(),expected);
  }
}
