{
  int verifiedSoFar=0;
  for (  InvocationWithMatchers registeredInvocation : registeredInvocations) {
    Invocation invocation=registeredInvocation.getInvocation();
    boolean shouldMarkAsVerified=verifyingMode.atLeastOnceMode() || verifyingMode.getExpectedNumberOfInvocations() >= verifiedSoFar;
    if (expected.matches(invocation) && shouldMarkAsVerified) {
      invocation.markVerified();
      verifiedSoFar++;
    }
  }
}
