{
  if (!mode.inOrderMode()) {
    return;
  }
  List<Invocation> chunk=finder.findFirstMatchingChunk(invocations,wanted);
  boolean noMatchFound=chunk.size() == 0;
  if (mode.wantedCountIsZero() && noMatchFound) {
    return;
  }
  int actualCount=chunk.size();
  if (mode.atLeastOnceMode() || !mode.matchesActualCount(actualCount)) {
    chunk=finder.findAllMatchingUnverifiedChunks(invocations,wanted);
  }
  int actualInAll=chunk.size();
  if (mode.tooLittleActualInvocations(actualInAll)) {
    HasStackTrace lastInvocation=finder.getLastStackTrace(chunk);
    reporter.tooLittleActualInvocationsInOrder(mode.wantedCount(),actualInAll,wanted.toString(),lastInvocation);
  }
  if (mode.tooManyActualInvocations(actualInAll)) {
    HasStackTrace firstUndesired=chunk.get(mode.wantedCount()).getStackTrace();
    reporter.tooManyActualInvocationsInOrder(mode.wantedCount(),actualInAll,wanted.toString(),firstUndesired);
  }
  for (  Invocation i : chunk) {
    i.markVerifiedInOrder();
  }
}
