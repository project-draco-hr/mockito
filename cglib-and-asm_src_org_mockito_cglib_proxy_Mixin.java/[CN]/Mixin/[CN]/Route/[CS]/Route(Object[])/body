{
  Map map=new HashMap();
  ArrayList collect=new ArrayList();
  for (int i=0; i < delegates.length; i++) {
    Class delegate=delegates[i].getClass();
    collect.clear();
    ReflectUtils.addAllInterfaces(delegate,collect);
    for (Iterator it=collect.iterator(); it.hasNext(); ) {
      Class iface=(Class)it.next();
      if (!map.containsKey(iface)) {
        map.put(iface,new Integer(i));
      }
    }
  }
  classes=new Class[map.size()];
  route=new int[map.size()];
  int index=0;
  for (Iterator it=map.keySet().iterator(); it.hasNext(); ) {
    Class key=(Class)it.next();
    classes[index]=key;
    route[index]=((Integer)map.get(key)).intValue();
    index++;
  }
}
