{
  try {
    state.assertRecordState();
    ClassProxyFactory<T> proxyFactory=new ClassProxyFactory<T>();
    return proxyFactory.createProxy(toMock,new ObjectMethodsFilter(toMock,new MockInvocationHandler(this),name));
  }
 catch (  RuntimeExceptionWrapper e) {
    throw (RuntimeException)e.getRuntimeException().fillInStackTrace();
  }
}
