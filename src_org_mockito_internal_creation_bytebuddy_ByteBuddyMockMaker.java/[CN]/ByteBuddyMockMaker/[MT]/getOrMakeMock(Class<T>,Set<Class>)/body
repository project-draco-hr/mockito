{
  MockKey<T> mockKey=new MockKey<T>(mockedType,interfaces);
  Class<? extends T> mockType=lookup(mockKey);
  if (mockType == null) {
synchronized (mockedType) {
      mockType=lookup(mockKey);
      if (mockType != null) {
        return mockType;
      }
      try {
        mockType=new ByteBuddyMockBytecodeGenerator().generateMockClass(mockedType,interfaces);
      }
 catch (      Exception e) {
        prettify(mockedType,e);
      }
      PREVIOUSLY_GENERATED_MOCK_CLASSES.put(mockKey,mockType);
    }
  }
  return mockType;
}
