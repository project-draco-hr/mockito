{
  if (name != null && !Invocation.isJavaIdentifier(name)) {
    throw new IllegalArgumentException(String.format("'%s' is not a valid Java identifier.",name));
  }
  try {
    if (toMock.isInterface()) {
      toMock=Object.class;
    }
    equalsMethod=toMock.getMethod("equals",new Class[]{Object.class});
    hashCodeMethod=toMock.getMethod("hashCode",(Class[])null);
    toStringMethod=toMock.getMethod("toString",(Class[])null);
  }
 catch (  NoSuchMethodException e) {
    throw new RuntimeException("An Object method could not be found!");
  }
  this.delegate=delegate;
  this.name=name;
}
