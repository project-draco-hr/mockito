{
  if (endMethod) {
    throw new IllegalStateException("Cannot visit elements after visitEnd has been called.");
  }
}
