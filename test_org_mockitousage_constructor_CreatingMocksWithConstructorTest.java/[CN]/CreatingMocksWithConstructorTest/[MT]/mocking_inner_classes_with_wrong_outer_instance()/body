{
  try {
    mock(InnerClass.class,withSettings().useConstructor().outerInstance("foo").defaultAnswer(CALLS_REAL_METHODS));
    fail();
  }
 catch (  MockitoException e) {
    assertEquals("Unable to create mock instance of type 'InnerClass'",e.getMessage());
    assertContains("Please ensure that the outer instance has correct type and that the target class has parameter-less constructor",e.getCause().getMessage());
  }
}
