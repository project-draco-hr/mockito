{
  if (optionalMockName == null) {
    optionalMockName=toInstanceName(classToMock);
  }
  MockFactory<T> proxyFactory=new MockFactory<T>();
  MockHandler<T> mockHandler=new MockHandler<T>(optionalMockName,progress,new MatchersBinder());
  MethodInterceptorFilter<MockHandler<T>> filter=new MethodInterceptorFilter<MockHandler<T>>(classToMock,mockHandler);
  return proxyFactory.createMock(classToMock,filter,optionalInstance);
}
