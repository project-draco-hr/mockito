{
  try {
    if (outerClassInstance == null) {
      return cls.newInstance();
    }
    Constructor<T> c=cls.getDeclaredConstructor(outerClassInstance.getClass());
    return c.newInstance(outerClassInstance);
  }
 catch (  Exception e) {
    throw new InstantationException("Unable to create mock instance of '" + cls.getSimpleName() + "'.\nPlease ensure it has parameter-less constructor.",e);
  }
}
