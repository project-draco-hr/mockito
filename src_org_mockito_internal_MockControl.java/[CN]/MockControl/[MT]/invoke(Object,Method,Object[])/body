{
  if (stubber.hasThrowableForVoidMethod()) {
    ExpectedInvocation invocationWithMatchers=expectedInvocation(proxy,method,args);
    stubber.addVoidMethodForThrowable(invocationWithMatchers);
    return null;
  }
  VerifyingMode verifyingMode=MockitoState.instance().pullVerifyingMode();
  MockitoState.instance().validateState();
  ExpectedInvocation invocationWithMatchers=expectedInvocation(proxy,method,args);
  if (verifyingMode != null) {
    behavior.verify(invocationWithMatchers,verifyingMode);
    return ToTypeMappings.emptyReturnValueFor(method.getReturnType());
  }
  stubber.setInvocationForPotentialStubbing(invocationWithMatchers);
  behavior.addInvocation(invocationWithMatchers);
  MockitoState.instance().reportControlForStubbing(this);
  return stubber.resultFor(invocationWithMatchers.getInvocation());
}
