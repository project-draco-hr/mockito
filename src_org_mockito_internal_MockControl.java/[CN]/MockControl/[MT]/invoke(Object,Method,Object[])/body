{
  VerifyingMode verifyingMode=mockitoState.pullVerifyingMode();
  Invocation invocation=new Invocation(proxy,method,args);
  List<IArgumentMatcher> lastMatchers=lastArguments.pullMatchers();
  validateMatchers(invocation,lastMatchers);
  List<IArgumentMatcher> processedMatchers=createEqualsMatchers(invocation,lastMatchers);
  ExpectedInvocation expectedInvocation=new ExpectedInvocation(invocation,processedMatchers);
  if (verifyingMode != null) {
    behavior.verify(expectedInvocation,verifyingMode);
    return ToTypeMappings.emptyReturnValueFor(method.getReturnType());
  }
  mockitoState.reportLastControl(this);
  invocation.setSequenceNumber(mockitoState.nextSequenceNumber());
  behavior.addInvocation(expectedInvocation);
  if (throwableToBeSetOnVoidMethod != null) {
    andThrows(throwableToBeSetOnVoidMethod);
    throwableToBeSetOnVoidMethod=null;
    return null;
  }
  return behavior.resultFor(invocation);
}
