{
  if (throwableToBeSetOnVoidMethod != null) {
    Invocation invocation=new Invocation(proxy,method,args,mockitoState.nextSequenceNumber());
    ExpectedInvocation invocationWithMatchers=expectedInvocation(invocation);
    behavior.addInvocation(invocationWithMatchers);
    andThrows(throwableToBeSetOnVoidMethod);
    throwableToBeSetOnVoidMethod=null;
    return null;
  }
  VerifyingMode verifyingMode=mockitoState.pullVerifyingMode();
  mockitoState.validateState();
  Invocation invocation=new Invocation(proxy,method,args,mockitoState.nextSequenceNumber());
  ExpectedInvocation invocationWithMatchers=expectedInvocation(invocation);
  if (verifyingMode != null) {
    behavior.verify(invocationWithMatchers,verifyingMode);
    return ToTypeMappings.emptyReturnValueFor(method.getReturnType());
  }
  mockitoState.reportControlForStubbing(this);
  behavior.addInvocation(invocationWithMatchers);
  if (throwableToBeSetOnVoidMethod != null) {
    andThrows(throwableToBeSetOnVoidMethod);
    throwableToBeSetOnVoidMethod=null;
    return null;
  }
  return behavior.resultFor(invocation);
}
