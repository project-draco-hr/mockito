{
synchronized (stubbed) {
    for (    StubbedInvocationMatcher s : stubbed) {
      if (s.matches(invocation)) {
        s.markStubUsed(invocation);
        invocation.markStubbed(new StubInfo(s));
        return s;
      }
    }
  }
  return null;
}
