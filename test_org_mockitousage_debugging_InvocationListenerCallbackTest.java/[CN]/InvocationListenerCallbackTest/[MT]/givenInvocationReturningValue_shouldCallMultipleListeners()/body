{
  RememberingListener listener1=new RememberingListener();
  RememberingListener listener2=new RememberingListener();
  Foo foo=mock(Foo.class,withSettings().callback(listener1).callback(listener2));
  given(foo.giveMeSomeString(SOME_STRING_ARGUMENT)).willReturn(SOME_RETURN_VALUE);
  foo.giveMeSomeString(SOME_STRING_ARGUMENT);
  assertHasBeenNotified(listener1,new InstanceOf(PrintableInvocation.class),new Equals(SOME_RETURN_VALUE),new Contains(getClass().getSimpleName().toString()));
  assertHasBeenNotified(listener2,new InstanceOf(PrintableInvocation.class),new Equals(SOME_RETURN_VALUE),new Contains(getClass().getSimpleName().toString()));
}
