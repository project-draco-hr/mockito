{
  String path=aClass.getName().replace('.','/') + ".class";
  String url=aClass.getClassLoader().getResource(path).toExternalForm();
  try {
    return new URL(url.substring(0,url.length() - path.length()));
  }
 catch (  MalformedURLException e) {
    throw new RuntimeException("Classloader couldn't obtain a proper classpath URL",e);
  }
}
