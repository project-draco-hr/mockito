{
  UnnecessaryStubbingsReporter reporter=new UnnecessaryStubbingsReporter();
  FailureDetecter listener=new FailureDetecter();
  Mockito.framework().setStubbingListener(reporter);
  try {
    notifier.addListener(listener);
    runner.run(notifier);
  }
  finally {
    Mockito.framework().setStubbingListener(null);
  }
  if (!filterRequested && listener.isSussessful()) {
    reporter.validateUnusedStubs(testClass,notifier);
  }
}
